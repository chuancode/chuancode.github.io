<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.7.4">Jekyll</generator><link href="http://localhost:4000/atom.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2019-10-15T16:48:02+08:00</updated><id>http://localhost:4000/atom.xml</id><title type="html">Chuan Code</title><subtitle>Hi</subtitle><author><name>chuan</name></author><entry><title type="html">Google Analytics API 使用</title><link href="http://localhost:4000/google%20analytics/python/2019/10/15/ga-api01/" rel="alternate" type="text/html" title="Google Analytics API 使用" /><published>2019-10-15T00:00:00+08:00</published><updated>2019-10-15T00:00:00+08:00</updated><id>http://localhost:4000/google%20analytics/python/2019/10/15/ga-api01</id><content type="html" xml:base="http://localhost:4000/google%20analytics/python/2019/10/15/ga-api01/">&lt;h2 id=&quot;開啟-google-analytics-api&quot;&gt;開啟 Google Analytics API&lt;/h2&gt;

&lt;h3 id=&quot;至-google-developers-console--新建專案&quot;&gt;至&lt;a href=&quot;https://console.developers.google.com/project&quot;&gt; Google Developers Console &lt;/a&gt; 新建專案&lt;/h3&gt;

&lt;h3 id=&quot;在api和服務的資訊主頁中點選啟用api和服務&quot;&gt;在API和服務的資訊主頁中點選啟用API和服務&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/post/gaapi-1.png&quot; alt=&quot;gaapi-1&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;啟用api&quot;&gt;啟用API&lt;/h3&gt;

&lt;p&gt;搜尋 Analytics API ， 開啟 Google Analytics Reporting API&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/post/gaapi-2.png&quot; alt=&quot;gaapi-2&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;建立憑證&quot;&gt;建立憑證&lt;/h2&gt;

&lt;p&gt;在 API和服務的憑證頁面中建立新的憑證&lt;/p&gt;

&lt;h3 id=&quot;選取-oauth-用戶端-id-憑證&quot;&gt;選取 OAuth 用戶端 ID 憑證&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/post/gaapi-3.png&quot; alt=&quot;gaapi-3&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;建立-oauth-用戶端-id&quot;&gt;建立 OAuth 用戶端 ID&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/post/gaapi-4.png&quot; alt=&quot;gaapi-4&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;建立完成後下載-json檔案&quot;&gt;建立完成後下載 json檔案&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/post/gaapi-5.png&quot; alt=&quot;gaapi-5&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;api-測試&quot;&gt;API 測試&lt;/h2&gt;

&lt;h3 id=&quot;資料檢視id&quot;&gt;資料檢視ID&lt;/h3&gt;

&lt;p&gt;Google Analytics 網頁 ➜ 管理 ➜ 資料檢視設定 ➜ 資料檢視ID&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/post/gaapi-6.png&quot; alt=&quot;gaapi-6&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;利用-python-測試&quot;&gt;利用 Python 測試&lt;/h3&gt;

&lt;p&gt;更改：&lt;br /&gt;
☑ CLIENT_SECRETS_PATH =  ‘ json檔案路徑 ‘ &lt;br /&gt;
☑ VIEW_ID = ‘ Google Analytics 資料檢視ID ‘&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/chuan520/a33d09d37fc144b2254317e8bcc8d5fd.js&quot;&gt;&lt;/script&gt;

&lt;h3 id=&quot;結果&quot;&gt;結果&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/post/gaapi-7.png&quot; alt=&quot;gaapi-7&quot; /&gt;&lt;/p&gt;

&lt;iframe data-v-b66e9a5a=&quot;&quot; src=&quot;https://button.like.co/in/embed/a0976663511/button?referrer=https://chuancode.github.io/google%20analytics/python/2019/10/15/ga-api01/&quot; frameborder=&quot;0&quot; scrolling=&quot;no&quot; class=&quot;lc-margin-top-64 lc-margin-bottom-32 lc-mobile&quot;&gt;&lt;/iframe&gt;</content><author><name>chuan</name></author><summary type="html">開啟 Google Analytics API 至 Google Developers Console 新建專案 在API和服務的資訊主頁中點選啟用API和服務 啟用API 搜尋 Analytics API ， 開啟 Google Analytics Reporting API 建立憑證 在 API和服務的憑證頁面中建立新的憑證 選取 OAuth 用戶端 ID 憑證 建立 OAuth 用戶端 ID 建立完成後下載 json檔案 API 測試 資料檢視ID Google Analytics 網頁 ➜ 管理 ➜ 資料檢視設定 ➜ 資料檢視ID 利用 Python 測試 更改： ☑ CLIENT_SECRETS_PATH = ‘ json檔案路徑 ‘ ☑ VIEW_ID = ‘ Google Analytics 資料檢視ID ‘ 結果</summary></entry><entry><title type="html">Google Tag Manager 抓取 Client Id</title><link href="http://localhost:4000/google%20analytics/google%20tag%20manager/2019/10/08/gtm-track-clientId/" rel="alternate" type="text/html" title="Google Tag Manager 抓取 Client Id" /><published>2019-10-08T00:00:00+08:00</published><updated>2019-10-08T00:00:00+08:00</updated><id>http://localhost:4000/google%20analytics/google%20tag%20manager/2019/10/08/gtm-track-clientId</id><content type="html" xml:base="http://localhost:4000/google%20analytics/google%20tag%20manager/2019/10/08/gtm-track-clientId/">&lt;h2 id=&quot;client-id-是&quot;&gt;Client Id 是？&lt;/h2&gt;

&lt;p&gt;當進入有使用GA的網站時,GA會發送一組Cookie到瀏覽器中來追蹤訪客的行為,這組Cookie就是GA中的Client Id(CID)&lt;/p&gt;

&lt;h2 id=&quot;如何利用-gtm-取得-client-id&quot;&gt;如何利用 GTM 取得 Client Id&lt;/h2&gt;

&lt;h3 id=&quot;設置自定義維度&quot;&gt;設置自定義維度&lt;/h3&gt;

&lt;p&gt;Google Analytics ➜ 管理 ➜ 自訂定義 ➜ 自定維度 ➜ 新增自定維度&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/post/cid-1.png&quot; alt=&quot;cid-1&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;gtm設置新變數&quot;&gt;GTM設置新變數&lt;/h3&gt;

&lt;p&gt;☑ 變數類型；自訂JavaScript&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/chuan520/ed0a4b7784969ec26626d6d0c632f62f.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/post/cid-2.png&quot; alt=&quot;cid-2&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;建立觸發條件&quot;&gt;建立觸發條件&lt;/h3&gt;

&lt;p&gt;☑ 觸發條件類型： 網頁瀏覽 - 視窗已載入 ( Page View - Window Loaded )
☑ 這項觸發條件的啟動時機：部分的載入視窗事件&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/post/cid-3.png&quot; alt=&quot;cid-3&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;建立代碼--tags-&quot;&gt;建立代碼 ( Tags )&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/post/cid-4.png&quot; alt=&quot;cid-4&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;在-google-analytics-查看&quot;&gt;在 Google Analytics 查看&lt;/h2&gt;

&lt;p&gt;再次要維度中選擇自定義維度的名稱&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/post/cid-5.png&quot; alt=&quot;cid-5&quot; /&gt;&lt;/p&gt;

&lt;iframe data-v-b66e9a5a=&quot;&quot; src=&quot;https://button.like.co/in/embed/a0976663511/button?referrer=https://chuancode.github.io/google%20analytics/google%20tag%20manager/2019/10/08/gtm-track-clientId/&quot; frameborder=&quot;0&quot; scrolling=&quot;no&quot; class=&quot;lc-margin-top-64 lc-margin-bottom-32 lc-mobile&quot;&gt;&lt;/iframe&gt;</content><author><name>chuan</name></author><summary type="html">Client Id 是？ 當進入有使用GA的網站時,GA會發送一組Cookie到瀏覽器中來追蹤訪客的行為,這組Cookie就是GA中的Client Id(CID) 如何利用 GTM 取得 Client Id 設置自定義維度 Google Analytics ➜ 管理 ➜ 自訂定義 ➜ 自定維度 ➜ 新增自定維度 GTM設置新變數 ☑ 變數類型；自訂JavaScript 建立觸發條件 ☑ 觸發條件類型： 網頁瀏覽 - 視窗已載入 ( Page View - Window Loaded ) ☑ 這項觸發條件的啟動時機：部分的載入視窗事件 建立代碼 ( Tags ) 在 Google Analytics 查看 再次要維度中選擇自定義維度的名稱</summary></entry></feed>